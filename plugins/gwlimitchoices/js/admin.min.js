!function(l){window.GPLCAdmin={addRuleFieldAfter:function(i,t,e){var c;return l.each(e,function(i,e){if(t==e.label)return c=i,!1}),e.splice(c+1,0,i),e},addLimitChoiceInputs:function(){field.choices&&l("ul#field_choices li").each(function(i){var e=void 0!==field.choices[i].limit?field.choices[i].limit:"";0<l(this).find("input.field-choice-limit").length||(l(this).find("input.field-choice-input:last").after('<input type="text" class="field-choice-input field-choice-limit gform-input" value="'+e+'" onkeyup="GPLCAdmin.setChoiceLimit('+i+', this.value)" />'),l(this).find("img.add_field_choice").attr("onclick",l(this).find("img.add_field_choice").attr("onclick")+" GPLCAdmin.addLimitChoiceInputs();"),l(this).find("img.delete_field_choice").attr("onclick",l(this).find("img.delete_field_choice").attr("onclick")+" GPLCAdmin.addLimitChoiceInputs();"))})},setChoiceLimit:function(i,e){field.choices[i].limit=e},addEnableLimitsCheckbox:function(){l("body").hasClass("gf-legacy-ui")&&l("#field_choice_limits_enabled").length<1&&l("li.gw-limit-choice.field_setting").children("div:first-child").after(GPLCAdminData.enableCheckboxLegacyMarkup),l("#field_choice_limits_enabled").prop("checked",1==field.gwlimitchoices_enableLimits),GPLCAdmin.toggleEnableLimits()},removeEnableLimitsCheckbox:function(){l("body").hasClass("gf-legacy-ui")&&l("#field_choice_limits_enabled").parent("div").remove()},toggleEnableLimits:function(){var i=l("#field_choice_limits_enabled").prop("checked"),e=l("body").hasClass("gf-legacy-ui")?l("li.gw-limit-choice.field_setting"):l(".choices-ui__content");i?e.addClass("limits-enabled"):e.removeClass("limits-enabled")}},gform.addFilter("gform_conditional_logic_fields",function(c,i,e){return jQuery.each(i.fields,function(i,e){var t=-1==l.inArray(GetInputType(e),["checkbox","multiselect"]);e.gwlimitchoices_enableLimits&&t&&GPLCAdmin.addRuleFieldAfter({label:"(Remaining) "+e.label,value:"gplc_count_remaining_"+e.id},e.label,c)}),c}),l(document).bind("gform_load_field_settings",function(i,e){if(-1==l.inArray(e.type,GPLCAdminData.allowedFieldTypes)&&-1==l.inArray(e.inputType,GPLCAdminData.allowedFieldTypes))return l("body").hasClass("gf-legacy-ui")?l(".choices_setting").removeClass("gw-limit-choice"):l(".choices-ui__content").removeClass("gw-limit-choice"),void GPLCAdmin.removeEnableLimitsCheckbox();l("body").hasClass("gf-legacy-ui")?l(".choices_setting").addClass("gw-limit-choice"):l(".choices-ui__content").addClass("gw-limit-choice"),l(".gfield_choice_header_limit").length||l(".gfield_choice_header_price").after('<label class="gfield_choice_header_limit">Limit</label>'),GPLCAdmin.addEnableLimitsCheckbox(e),GPLCAdmin.addLimitChoiceInputs(),GPLCAdmin.limitChoicesSetup||(l("#field_choices").bind("sortupdate",function(){setTimeout("GPLCAdmin.addLimitChoiceInputs()",1)}),l(document).on("gform_load_field_choices",function(){GPLCAdmin.addLimitChoiceInputs()})),GPLCAdmin.limitChoicesSetup=!0,GPLCAdmin.limitChoicesSetup=!1})}(jQuery);
//# sourceMappingURL=admin.js.map